{{define "dashboard"}}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Tarzan - The Master of ThemeForest</title>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.26.3/css/uikit.almost-flat.min.css">
	<link rel="stylesheet" type="text/css" href="./assets/css/app.css">
</head>
<body>

<div id="app">
	<div id="left-nav">
		<ul class="uk-nav">
			<li v-for="nav in navigation"><a v-link="{path: nav.path, exact: nav.path === '/'}"><i class="uk-icon-${nav.icon}"></i></a></li>
		</ul>
	</div>
	<div id="main">
		<div v-if="$loadingAsyncData">Loading...</div>
		<router-view v-else></router-view>
	</div>
</div>


<!-- Template -->
<script type="text/template" id="wrapper">
<div class="uk-grid">
	<div :class="{'uk-width-10-10': !formSearch, 'uk-width-8-10': formSearch}">
		<h1><i class="uk-icon-${icon}"></i> ${title}</h1>
		<a class="add" v-link="{path: '/page/add'}" v-if="addButton"><i class="uk-icon-plus"></i></a>
	</div>
	<div class="uk-width-2-10">
		<form class="uk-form" v-if="formSearch">
			<input type="search" placeholder="${searchLabel}" v-model="searchModel" class="uk-width-1-1">
		</form>
	</div>
</div>
<hr />
<div class="uk-grid">
	<div class="uk-width-1-1">
		<slot></slot>
	</div>
</div>
</script>

<script type="text/template" id="watcher-list">
	<wrapper icon="rss"
		title="Watch List"
		:form-search="true"
		:search-model.sync="search"
		search-label="Search Watcher"
		:add-button="true">
		<table class="uk-table uk-table-hover uk-table-striped uk-table-condensed">
			<thead>
				<tr>
					<th style="width:40%">URL</th>
					<th>Description</th>
					<th style="width:50px">Action</th>
				<tr>
			</thead>
			<tbody>
				<tr v-for="item in list|filterBy search">
					<td><strong>${item.title}</strong><br /><a class="url" target="_blank" href="${item.url}">${item.url} <i class="uk-icon-external-link"></i></a></td>
					<td>${item.desc}</td>
					<td><a class="remove" @click="remove(item.id)"><i class="uk-icon-remove"></i></a> <a class="edit" v-link="{path: '/page/' + item.id}"><i class="uk-icon-pencil"></i></a></td>
				</tr>
			</tbody>
		</table>
	</wrapper>
</script>

<script type="text/template" id="watcher-add">
	<wrapper icon="rss" title="Add Watch Page">
		<form class="uk-form uk-form-horizontal">
			<div class="uk-form-row">
				<label class="uk-form-label" for="url">Page URL</label>
				<div class="uk-form-controls">
					<input type="text" id="url" placeholder="Theme Forest Category / Subcategory Page URL" class="uk-width-5-10" v-model="url">
				</div>
			</div>
			<div class="uk-form-row">
				<label class="uk-form-label" for="title">Title Alias</label>
				<div class="uk-form-controls">
				<input type="text" id="title" placeholder="Title of current URL" class="uk-width-3-10"  v-model="title">
				</div>
			</div>
			<div class="uk-form-row">
				<label class="uk-form-label" for="desc">Description</label>
				<div class="uk-form-controls">
				<textarea id="desc" cols="30" rows="5" placeholder="Page Description" class="uk-width-3-10" v-model="desc"></textarea>
				</div>
			</div>
			<div class="uk-form-row">
				<a class="uk-button uk-button-primary uk-button-large" @click="save()"><i class="uk-icon-save"></i> Save</a>
			</div>
		</form>
	</wrapper>
</script>

<script type="text/template" id="watcher-edit">
	<wrapper icon="rss" :title="'Edit Watch Page &quot;'+ title +'&quot;'">
		<form class="uk-form uk-form-horizontal">
			<div class="uk-form-row">
				<label class="uk-form-label" for="url">Page URL</label>
				<div class="uk-form-controls">${url}</div>
			</div>
			<div class="uk-form-row">
				<label class="uk-form-label" for="title">Title Alias</label>
				<div class="uk-form-controls">
					<input type="text" id="title" placeholder="Title of current URL" class="uk-width-3-10"  v-model="title">
				</div>
			</div>
			<div class="uk-form-row">
				<label class="uk-form-label" for="desc">Description</label>
				<div class="uk-form-controls">
					<textarea id="desc" cols="30" rows="5" placeholder="Page Description" class="uk-width-3-10" v-model="desc"></textarea>
				</div>
			</div>
			<div class="uk-form-row">
				<a class="uk-button uk-button-primary uk-button-large" @click="save()"><i class="uk-icon-save"></i> Save Changes</a>
			</div>
		</form>
	</wrapper>
</script>

<script type="text/template" id="item-list">
<div v-if="waiting">Loading...</div>
<wrapper v-else icon="bookmark-o"
	:title="'Item List: '+ ((total)? total: 0) + ' Items'"
	:form-search="true"
	:search-model.sync="search"
	search-label="Search Item">

	<ul class="uk-pagination" v-if="total>1">
		<li :class="{'uk-disabled': pagination.current === 0}"><a @click="prevPage($event)"><i class="uk-icon-angle-double-left"></i></a></li>
		<li v-if="pagination.current > 4"><a @click="getPage(0)">1</a></li>
		<li v-if="pagination.current > 4"><span>...</span></li>

		<li v-for="page in pagination.limit" :class="{'uk-active': pagination.current === page}">
			<span v-if="pagination.current === page">${page+1}</span>
			<a v-else @click="getPage(page)">${page+1}</a>
		</li>

		<li v-if="pagination.current < pagination.total - 10"><span>...</span></li>
		<li v-if="pagination.current < pagination.total - 10"><a @click="getPage(pagination.total-1)">${pagination.total}</a></li>
		<li :class="{'uk-disabled': pagination.current === pagination.total}"><a @click="nextPage($event)"><i class="uk-icon-angle-double-right"></i></a></li>
	</ul>

	<table class="uk-table uk-table-hover uk-table-striped uk-table-condensed">
		<thead>
			<tr>
				<th style="width:100px">Item ID</th>
				<th>Title</th>
				<th style="width:50px">Sales</th>
			<tr>
		</thead>
		<tbody>
			<tr v-for="item in list|filterBy search">
				<td>${item.item_id}</td>
				<td>
					<a v-link="{path: '/item/' + item.id}" class="item-title">${item.title}</a><br /><a href="http://themeforest.net/user/${item.author}/portfolio" class="item-author"><i class="uk-icon-user"></i> ${item.author}</a> - <a href="${item.url}" class="url">${item.url} <i class="uk-icon-external-link"></i></a>
				</td>
				<td>${item.sales[0].value}</td>
			</tr>
		</tbody>
	</table>
</wrapper>
</script>

<script type="text/template" id="item-view">
<wrapper v-else icon="bookmark-o"
	:title="(title)? title + ' by ' + author: 'Loading...'"
	:search-model.sync="search">
	<div class="uk-grid">
		<div class="uk-width-1-1">
			<ul class="uk-subnav uk-subnav-pill uk-flex-center">
				<li class="uk-active"><a href="#">Today</a></li>
				<li><a href="#">Last 7 Days</a></li>
				<li><a href="#">This Month</a></li>
				<li><a href="#">Last Month</a></li>
				<li><a href="#">This Year</a></li>
			</ul>
		</div>
	</div>

	<div class="uk-grid">
		<div class="uk-width-1-1">
			<div id="chart"></div>
		</div>
	</div>

	<div class="uk-grid">
		<div class="uk-width-3-6">
			<a href="${url}" target="_blank">Visit URL <i class="uk-icon-external-link"></i></a><br />
			Date Created: ${created}<br />
			Category: ${category}<br />
		</div>
		<div class="uk-width-3-6">
			<div style="white-space: wrap">Tags: <a href="http://themeforest.net/tags/${tag}" class="tag" v-for="tag in tags" target="_blank">${tag}</a></div>
		</div>
	</div>
</wrapper>
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.min.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.min.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/0.7.13/vue-router.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.26.3/js/uikit.min.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/async/1.5.2/async.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="assets/js/app.js" defer></script>
</body>
</html>
{{end}}